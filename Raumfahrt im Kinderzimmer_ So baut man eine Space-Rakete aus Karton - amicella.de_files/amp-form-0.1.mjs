(self.AMP=self.AMP||[]).push({n:"amp-form",v:"2012090206000",f:function(e,t){var r;function i(){return r?r:r=Promise.resolve(void 0)}function a(e,t=""){try{return decodeURIComponent(e)}catch(e){return t}}var n=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function s(e){var t=Object.create(null);if(!e)return t;var r;for(;r=n.exec(e);){var i=a(r[1],r[1]),s=r[2]?a(r[2].replace(/\+/g," "),r[2]):"";t[i]=s}return t}var o=Object.prototype.toString;function l(e){return e?Array.prototype.slice.call(e):[]}var u=self.AMP_CONFIG||{},h=("string"==typeof u.cdnProxyRegex?new RegExp(u.cdnProxyRegex):u.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function c(e){if(!self.document||!self.document.head||self.location&&h.test(self.location.origin))return null;var t=self.document.head.querySelector(`meta[name="${e}"]`);return t&&t.getAttribute("content")||null}var d={thirdParty:u.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:u.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof u.thirdPartyFrameRegex?new RegExp(u.thirdPartyFrameRegex):u.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:u.cdnUrl||c("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:h,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:u.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:u.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:u.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:u.geoApiUrl||c("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var m=self.__AMP_LOG;function p(){if(!m.user)throw Error("failed to call initLogConstructor");return m.user}function f(){if(m.dev)return m.dev;throw Error("failed to call initLogConstructor")}function v(e,t,r,i){p().assert(e,t,r,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}var b=class{constructor(){var e,t;this.promise=new Promise(((r,i)=>{e=r;t=i}));this.resolve=e;this.reject=t}};function g(e){return new Promise((t=>{t(e())}))}var y=class{constructor(){var e,t;this.na=new Promise(((r,i)=>{e=r;t=i}));this.Ca=e;this.Aa=t;this.Y=0}add(e){var t=++this.Y;Promise.resolve(e).then((e=>{this.Y===t&&this.Ca(e)}),(e=>{this.Y===t&&this.Aa(e)}));return this.na}then(e,t){return this.na.then(e,t)}};function E(e,t){e=e.__AMP_TOP||(e.__AMP_TOP=e);return S(e,t)}function A(e,t){var r=P(e);r=_(r);return S(r,t)}function x(e,t){e=P(e);e=_(e);return I(e,t)?S(e,t):null}function w(e,t){return T(_(e),t)}function P(e){return e.nodeType?E((e.ownerDocument||e).defaultView,"ampdoc").getAmpDoc(e):e}function _(e){e=P(e);return e.isSingleDoc()?e.win:e}function S(e,t){I(e,t);e=V(e)[t];e.obj||(e.obj=new e.ctor(e.context),e.ctor=null,e.context=null,e.resolve&&e.resolve(e.obj));return e.obj}function O(e,t){var r=T(e,t);if(r)return r;e=V(e);e[t]=R();return e[t].promise}function T(e,t){var r=V(e)[t];if(r){if(r.promise)return r.promise;S(e,t);return r.promise=Promise.resolve(r.obj)}return null}function V(e){var t=e.__AMP_SERVICES;t||(t=e.__AMP_SERVICES={});return t}function I(e,t){e=e.__AMP_SERVICES&&e.__AMP_SERVICES[t];return!(!e||!e.ctor&&!e.obj)}function R(){var e=new b,t=e.promise,r=e.resolve,i=e.reject;t.catch((()=>{}));return{obj:null,promise:t,resolve:r,reject:i,context:null,ctor:null}}
/*
    https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var C=Object.prototype.hasOwnProperty;function j(){return Object.create(null)}function F(e){return e||{}}function L(e,t){var r=[],i=[];for(i.push({t:e,s:t,d:0});0<i.length;){let{t:e,s:t,d:a}=i.shift();if(r.includes(t))throw Error("Source object has a circular reference.");r.push(t);e!==t&&(10<a?Object.assign(e,t):Object.keys(t).forEach((r=>{var n=t[r];if(C.call(e,r)){var s=e[r];if("[object Object]"===o.call(n)&&"[object Object]"===o.call(s)){i.push({t:s,s:n,d:a+1});return}}e[r]=n})))}}function M(e,t,r=null){r?e.insertBefore(t,r.nextSibling):e.insertBefore(t,e.firstChild)}function N(e,t){var r=[];for(var i=e.parentElement;i;i=i.parentElement)t(i)&&r.push(i);return r}function k(e){var t="fieldset";/^[\w-]+$/.test(t);t=t.toUpperCase();return N(e,(e=>e.tagName==t))}function D(e,t){var r=e.length;for(var i=0;i<r;i++)t(e[i],i)}function $(e,t,r){var a=w(e,t);if(a)return a;var n=P(e);return n.waitForBodyOpen().then((()=>{var e=n.win;var t=n.win.document.head;if(t){var a={};t=t.querySelectorAll("script[custom-element],script[custom-template]");for(var s=0;s<t.length;s++){var o=t[s];o=o.getAttribute("custom-element")||o.getAttribute("custom-template");a[o]=!0}a=Object.keys(a)}else a=[];return a.includes(r)?E(e,"extensions").waitForExtension(e,r):i()})).then((()=>{var i=n.win;return i.__AMP_EXTENDED_ELEMENTS&&i.__AMP_EXTENDED_ELEMENTS[r]?O(_(e),t):null}))}function U(e){return A(e,"mutator")}var q;var H="Webkit webkit Moz moz ms O o".split(" ");function B(e,t,r){var i=e.style;if(!t.startsWith("--")){q||(q=j());var a=q[t];if(!a){a=t;if(void 0===i[t]){var n=t.charAt(0).toUpperCase()+t.slice(1);e:{for(var s=0;s<H.length;s++){var o=H[s]+n;if(void 0!==i[o]){n=o;break e}}n=""}void 0!==i[n]&&(a=n)}q[t]=a}t=a}t&&(t.startsWith("--")?e.style.setProperty(t,r):e.style[t]=r)}function X(e,t){void 0===t&&(t=e.hasAttribute("hidden"));t?e.removeAttribute("hidden"):e.setAttribute("hidden","")}var G;function z(e,t,r){var i,a=e,n=r;i=e=>{try{return n(e)}catch(e){throw self.__AMP_REPORT_ERROR(e),e}};var s=J();a.addEventListener(t,i,s?void 0:!1);return()=>{a&&a.removeEventListener(t,i,s?void 0:!1);i=a=n=null}}function J(){if(void 0!==G)return G;G=!1;try{var e={get capture(){G=!0}};self.addEventListener("test-options",null,e);self.removeEventListener("test-options",null,e)}catch(e){}return G}function K(e,t,r,i){r={detail:r};Object.assign(r,i);return new e.CustomEvent(t,r)}function W(e,t,r){return z(e,t,r)}function Z(e,t){var r=t;var i=z(e,"mouseup",(e=>{try{r(e)}finally{r=null,i()}}));return i}function Y(e){var t;var r=new Promise((r=>{t=Z(e,r)}));r.then(t,t);return r}function Q(e,t){function r(r){n=null;a=e.setTimeout(i,100);t.apply(null,r)}function i(){a=0;n&&r(n)}var a=0,n=null;return function(...e){a?n=e:r(e)}}function ee(e){var t=e.getRootNode();var r=null;var i=()=>{var i=t.querySelector("textarea[autoexpand]");i&&!r?r=new te(e):!i&&r&&(r.dispose(),r=null)};z(t,"amp:dom-update",i);i()}var te=class{constructor(e){var t=e.getRootNode();this.K=t.ownerDocument||t;this.j=this.K.defaultView;this.fa=A(e,"viewport");this.M=[];this.M.push(W(t,"input",(e=>{e=e.target;"TEXTAREA"==e.tagName&&e.hasAttribute("autoexpand")&&se(e)})));this.M.push(W(t,"mousedown",(e=>{1==e.which&&(e=e.target,"TEXTAREA"==e.tagName&&ne(e))})));var r=t.querySelectorAll("textarea");this.M.push(W(t,"amp:dom-update",(()=>{r=t.querySelectorAll("textarea")})));var i=Q(this.j,(e=>{e.relayoutAll&&ae(r)}));this.M.push(this.fa.onResize(i));re(r)}dispose(){this.M.forEach((e=>e()))}};function re(e){Promise.all(l(e).map((e=>ie(e).then((t=>{t&&e.removeAttribute("autoexpand")})))))}function ie(e){return U(e).measureElement((()=>e.scrollHeight>e.clientHeight))}function ae(e){D(e,(e=>{"TEXTAREA"==e.tagName&&e.hasAttribute("autoexpand")&&se(e)}))}function ne(e){var t=U(e);Promise.all([t.measureElement((()=>e.scrollHeight)),Y(e)]).then((r=>{var i=r[0];var a=0;return t.measureMutateElement(e,(()=>{a=e.scrollHeight}),(()=>{i!=a&&e.removeAttribute("autoexpand")}))}))}function se(e){var t=U(e),r=e.ownerDocument.defaultView;var i=0,a=0,n=0;var s=oe(e);t.measureMutateElement(e,(()=>{var t=r.getComputedStyle(e)||j();a=e.scrollHeight;var s=parseInt(t.getPropertyValue("max-height"),10);n=isNaN(s)?1/0:s;i="content-box"==t.getPropertyValue("box-sizing")?-parseInt(t.getPropertyValue("padding-top"),10)+-parseInt(t.getPropertyValue("padding-bottom"),10):parseInt(t.getPropertyValue("border-top-width"),10)+parseInt(t.getPropertyValue("border-bottom-width"),10)}),(()=>s.then((t=>{e.classList.toggle("i-amphtml-textarea-max",t+i>n);if("iAmphtmlHasExpanded"in e.dataset||a<=t)e.dataset.iAmphtmlHasExpanded="",B(e,"height",`${t+i}px`)}))))}function oe(e){var t=e.ownerDocument,r=t.defaultView,i=t.body,a=U(e),n=e.cloneNode(!1);n.classList.add("i-amphtml-textarea-clone");var s=0,o=0,l=!1;return a.measureMutateElement(i,(()=>{var t=r.getComputedStyle(e)||j(),i=parseInt(t.getPropertyValue("max-height"),10);s=parseInt(t.getPropertyValue("width"),10);l=isNaN(i)||e.scrollHeight<i}),(()=>{l&&(e.scrollTop=0);B(n,"width",`${s}px`);t.body.appendChild(n)})).then((()=>a.measureMutateElement(i,(()=>{o=n.scrollHeight}),(()=>{n.parentElement&&n.parentElement.removeChild(n)})))).then((()=>o))}function le(e){var t=e.elements,r={},i=/^(?:input|select|textarea)$/i,a=/^(?:submit|button|image|file|reset)$/i,n=/^(?:checkbox|radio)$/i;for(var s=0;s<t.length;s++){let e=t[s],o=e.checked,l=e.name,u=e.multiple,h=e.options,c=e.tagName,d=e.type,m=e.value;!l||he(e)||!i.test(c)||a.test(d)||n.test(d)&&!o||(void 0===r[l]&&(r[l]=[]),u?D(h,(e=>{e.selected&&r[l].push(e.value)})):r[l].push(m))}var o=ue(e);o&&o.name&&(e=o.name,void 0===r[e]&&(r[e]=[]),r[o.name].push(o.value));Object.keys(r).forEach((e=>{0==r[e].length&&delete r[e]}));return r}function ue(e){var t=e.elements,r=t.length,i=e.ownerDocument.activeElement;var a=null;for(e=0;e<r;e++){var n=t[e];var s=n.type;if(s="BUTTON"==n.tagName||"submit"==s)if(a||(a=n),i==n)return i}return a}function he(e){if(e.disabled)return!0;e=k(e);for(var t=0;t<e.length;t++)if(e[t].disabled)return!0;return!1}function ce(e){switch(e.type){case"select-multiple":case"select-one":e=e.options;for(var t=0;t<e.length;t++)if(e[t].selected!==e[t].defaultSelected)return!1;break;case"checkbox":case"radio":return e.checked===e.defaultChecked;default:return e.value===e.defaultValue}return!0}function de(e,t){return e.hasAttribute("verify-xhr")?new ge(e,t):new fe(e)}function me(e){(e=e.h.elements)&&D(e,(e=>{e.setCustomValidity("")}))}var pe=class{constructor(e){this.h=e}onCommit(){me(this);e:{var e=this.h.elements;for(var t=0;t<e.length;t++){var r=e[t];if(!r.disabled&&!ce(r)){e=!0;break e}}e=!1}return e?this.qa():Promise.resolve({updatedElements:[],errors:[]})}qa(){return Promise.resolve({updatedElements:[],errors:[]})}};var fe=class extends pe{};function ve(e,t){if(!e.P){e.P=new y;var r=()=>e.P=null;e.P.then(r,r)}return e.P.add(t)}function be(e,t){var r=[],i=e.ma;e.ma=t;for(var a=0;a<t.length;a++){var n=t[a],s=p().assertString(n.name,"Verification errors must have a name property");n=p().assertString(n.message,"Verification errors must have a message property");s=p().assertElement(e.h.querySelector(`[name="${s}"]`),"Verification error name property must match a field name");s.checkValidity()&&(s.setCustomValidity(n),r.push(s))}var o=i.filter((e=>t.every((t=>e.name!==t.name)))).map((t=>e.h.querySelector(`[name="${t.name}"]`)));return{updatedElements:r.concat(o),errors:t}}var ge=class extends pe{constructor(e,t){super(e);this.T=t;this.P=null;this.ma=[]}qa(){var e=this.T().then((()=>[]),(e=>ye(e)));return ve(this,e).then((e=>be(this,e)))}};function ye(e){return(e=e.response)?e.json().then((e=>e.verifyErrors||[]),(()=>[])):Promise.resolve([])}function Ee(e,t){var r=E(e,"platform");return r.isIos()&&11==r.getMajorVersion()?new we(t):FormData.prototype.entries&&FormData.prototype.delete?new xe(t):new Ae(t)}var Ae=class{constructor(e){this.o=e?le(e):j()}append(e,t){var r=String(e);this.o[r]=this.o[r]||[];this.o[r].push(String(t))}delete(e){delete this.o[e]}entries(){var e=[];Object.keys(this.o).forEach((t=>{this.o[t].forEach((r=>e.push([t,r])))}));var t=0;return{next(){return t<e.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}}getFormData(){var e=new FormData;Object.keys(this.o).forEach((t=>{this.o[t].forEach((r=>e.append(t,r)))}));return e}};var xe=class{constructor(e){this.A=new FormData(e);e&&(e=ue(e))&&e.name&&this.append(e.name,e.value)}append(e,t){this.A.append(e,t)}delete(e){this.A.delete(e)}entries(){return this.A.entries()}getFormData(){return this.A}};var we=class extends xe{constructor(e){super(e);e&&D(e.elements,(e=>{"file"==e.type&&0==e.files.length&&(this.A.delete(e.name),this.A.append(e.name,new Blob([]),""))}))}append(e,t,r){t&&"object"==typeof t&&""==t.name&&0==t.size?this.A.append(e,new Blob([]),r||""):this.A.append(e,t)}};var Pe={INPUT:!0,SELECT:!0,TEXTAREA:!0};function _e(e){var t=0<e.J&&!e.V;if(t!==e.sa){e.h.classList.toggle("amp-form-dirty",t);var r=K(e.j,"amp:form-dirtiness-change",F({isDirty:t}),{bubbles:!0});e.h.dispatchEvent(r)}e.sa=t}function Se(e,t){var r=t.hidden;r=Pe[t.tagName]?!t.name||r||he(t):!0;if(!r){e:switch(t.tagName){case"INPUT":r="checkbox"==t.type||"radio"==t.type?!t.checked:!t.value;break e;case"TEXTAREA":r=!t.value;break e;case"SELECT":r=!1;break e;default:throw Error(`isFieldEmpty: ${t.tagName} is not a supported field element.`)}(r=r||ce(t))||(e.ea?(r=t.value,r=e.ea.get(t.name)===r):r=!1);r?(t=t.name,e.F[t]&&(e.F[t]=!1,--e.J)):(t=t.name,e.F[t]||(e.F[t]=!0,++e.J))}}var Oe=class{constructor(e,t){this.h=e;this.j=t;this.J=0;this.F=j();this.ea=null;this.sa=this.V=!1;this.ca();for(e=0;e<this.h.elements.length;++e)Se(this,this.h.elements[e]);_e(this)}onSubmitting(){this.V=!0;_e(this)}onSubmitError(){this.V=!1;_e(this)}onSubmitSuccess(){this.V=!1;this.ea=Ee(this.j,this.h).getFormData();this.F=j();this.J=0;_e(this)}ca(){this.h.addEventListener("input",this.la.bind(this));this.h.addEventListener("reset",this.za.bind(this));this.h.addEventListener("amp:form-value-change",this.la.bind(this))}la(e){Se(this,e.target);_e(this)}za(){this.F=j();this.J=0;_e(this)}};var Te=class{constructor(){this.l=null}add(e){this.l||(this.l=[]);this.l.push(e);return()=>{this.remove(e)}}remove(e){this.l&&(e=this.l.indexOf(e),-1<e&&this.l.splice(e,1))}removeAll(){this.l&&(this.l.length=0)}fire(e){if(this.l){var t=this.l;for(var r=0;r<t.length;r++)(0,t[r])(e)}}getHandlerCount(){return this.l?this.l.length:0}};var Ve=class{constructor(){this.ka=new Te}beforeSubmit(e){return this.ka.add(e)}fire(e){this.ka.fire(e)}};var Ie=class{constructor(){this.wa=100;this.X=this.da=0;this.R=Object.create(null)}has(e){return!!this.R[e]}get(e){var t=this.R[e];if(t)return t.access=++this.X,t.payload}put(e,t){this.has(e)||this.da++;this.R[e]={payload:t,access:this.X};if(!(this.da<=this.wa)){e=this.R;var r=this.X+1;for(var i in e){var{access:a}=e[i];if(a<r){r=a;var n=i}}void 0!==n&&(delete e[n],this.da--)}}};var Re=F({c:!0,v:!0,a:!0,ad:!0});var Ce,je;var Fe=/[?&]amp_js[^&]*/,Le=/[?&]amp_gsa[^&]*/,Me=/[?&]amp_r[^&]*/,Ne=/[?&]amp_kit[^&]*/,ke=/[?&]usqp[^&]*/;function De(e){Ce||(Ce=self.document.createElement("a"),je=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new Ie));var t=je,r=Ce;if(t&&t.has(e))e=t.get(e);else{r.href=e;r.protocol||(r.href=r.href);var i={href:r.href,protocol:r.protocol,host:r.host,hostname:r.hostname,port:"0"==r.port?"":r.port,pathname:r.pathname,search:r.search,hash:r.hash,origin:null};"/"!==i.pathname[0]&&(i.pathname="/"+i.pathname);if("http:"==i.protocol&&80==i.port||"https:"==i.protocol&&443==i.port)i.port="",i.host=i.hostname;i.origin=r.origin&&"null"!=r.origin?r.origin:"data:"!=i.protocol&&i.host?i.protocol+"//"+i.host:i.href;t&&t.put(e,i);e=i}return e}function $e(e,t,r){if(!t)return e;var i=e.split("#",2),a=i[0].split("?",2);var n=a[0]+(a[1]?r?`?${t}&${a[1]}`:`?${a[1]}&${t}`:`?${t}`);return n+=i[1]?`#${i[1]}`:""}function Ue(e){var t=[];for(var r in e){var i=e[r];if(null!=i)if(Array.isArray(i))for(var a=0;a<i.length;a++){var n=i[a];t.push(`${encodeURIComponent(r)}=${encodeURIComponent(n)}`)}else a=i,t.push(`${encodeURIComponent(r)}=${encodeURIComponent(a)}`)}return t.join("&")}function qe(e){"string"==typeof e&&(e=De(e));return d.cdnProxyRegex.test(e.origin)}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,i)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){var i=r[t];t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xe=["GET","POST"];function Ge(e,t,r,i,a={}){var n=F({type:e.Da}),s=i&&i.successTemplate?i.successTemplate:r;s&&(n.successTemplate={type:"amp-mustache",payload:s.innerHTML});var o=i&&i.errorTemplate?i.errorTemplate:null;o&&(n.errorTemplate={type:"amp-mustache",payload:o.innerHTML});a&&Object.assign(n,a);e=t.xhrUrl;r=t.fetchOpt;t=Be({},r);if((i=r.body)&&"function"==typeof i.getFormData){r=r.body;t.headers["Content-Type"]="multipart/form-data;charset=utf-8";r=r.entries();i=[];for(a=r.next();!a.done;a=r.next())i.push(a.value);r=i;t.body=r}e={input:e,init:t};return F({originalRequest:e,ampComponent:n})}var ze=class{constructor(e,t){this.G=e;this.m=t;this.Da="amp-form"}isEnabled(){var e=this.G.getAmpDoc();return e.isSingleDoc()&&e.getRootNode().documentElement.hasAttribute("allow-viewer-render-template")?this.G.hasCapability("viewerRenderTemplate"):!1}assertTrustedViewer(e){return this.G.isTrustedViewer().then((t=>{v(t,"Refused to attempt SSR in untrusted viewer: ",e)}))}ssr(e,t,r=null,i={}){var a;r||(a=this.m.maybeFindTemplate(e));return this.assertTrustedViewer(e).then((()=>this.G.sendMessageAwaitResponse("viewerRenderTemplate",Ge(this,t,a,r,i))))}applySsrOrCsrTemplate(e,t){var r;this.isEnabled()?(v("string"===typeof t.html,"Server side html response must be defined"),r=this.assertTrustedViewer(e).then((()=>this.m.findAndSetHtmlForTemplate(e,t.html)))):r=Array.isArray(t)?this.m.findAndRenderTemplateArray(e,t):this.m.findAndRenderTemplate(e,t);return r}};var Je=class{constructor(e,t){this.ba=t;this.fa=A(e,"viewport");this.ra=E(e.win,"vsync");this.$=null;this.Z="";this.W=!1;this.D=e.win.document.createElement("div");X(this.D,!1);this.D.classList.add("i-amphtml-validation-bubble");this.D.__BUBBLE_OBJ=this;e.getBody().appendChild(this.D)}isActiveOn(e){return this.W&&e==this.$}hide(){this.W&&(this.W=!1,this.$=null,this.Z="",this.ra.run({measure:void 0,mutate:Ke},{bubbleElement:this.D}))}show(e,t){this.isActiveOn(e)&&t==this.Z||(this.W=!0,this.$=e,this.Z=t,this.ra.run({measure:We,mutate:Ze},{message:t,targetElement:e,bubbleElement:this.D,viewport:this.fa,id:this.ba}))}};function Ke(e){e.bubbleElement.removeAttribute("aria-alert");e.bubbleElement.removeAttribute("role");for(var t=e.bubbleElement;t.firstChild;)t.removeChild(t.firstChild);X(e.bubbleElement,!1)}function We(e){e.targetRect=e.viewport.getLayoutRect(e.targetElement)}function Ze(e){for(var t=e.bubbleElement;t.firstChild;)t.removeChild(t.firstChild);var r=e.bubbleElement.ownerDocument.createElement("div");r.id=`bubble-message-${e.id}`;r.textContent=e.message;e.bubbleElement.setAttribute("aria-labeledby",r.id);e.bubbleElement.setAttribute("role","alert");e.bubbleElement.setAttribute("aria-live","assertive");e.bubbleElement.appendChild(r);X(e.bubbleElement,!0);t=e.bubbleElement;e={top:`${e.targetRect.top-10}px`,left:`${e.targetRect.left+e.targetRect.width/2}px`};for(var i in e)B(t,i,e[i])}var Ye,Qe,et=0;function tt(e,t){D(t.elements,(t=>{"TEXTAREA"==t.tagName&&e.checkInputValidity(t)}))}var rt=class{constructor(e){this.form=e;this.ampdoc=P(e);this.mutator=U(e);this.root=this.ampdoc.getRootNode();this.U=null}report(){}onBlur(){}onInput(){}inputs(){return this.form.querySelectorAll("input,select,textarea")}checkInputValidity(e){if("TEXTAREA"===e.tagName&&e.hasAttribute("pattern")&&(e.checkValidity()||"Please match the requested format."===e.validationMessage)){var t=e.getAttribute("pattern"),r=new RegExp(`^${t}$`,"m").test(e.value);e.setCustomValidity(r?"":"Please match the requested format.")}return e.checkValidity()}checkFormValidity(e){tt(this,e);return e.checkValidity()}reportFormValidity(e){tt(this,e);return e.reportValidity()}fireValidityEventIfNecessary(){var e=this.U;this.U=this.checkFormValidity(this.form);if(e!==this.U){var t=K(this.form.ownerDocument.defaultView,this.U?"valid":"invalid",null,{bubbles:!0});this.form.dispatchEvent(t)}}};var it=class extends rt{report(){this.reportFormValidity(this.form);this.fireValidityEventIfNecessary()}};var at=class extends rt{constructor(e){super(e);var t=`i-amphtml-validation-bubble-${et++}`;this.N=new Je(this.ampdoc,t)}report(){var e=this.inputs();for(var t=0;t<e.length;t++)if(!this.checkInputValidity(e[t])){e[t].focus();this.N.show(e[t],e[t].validationMessage);break}this.fireValidityEventIfNecessary()}onBlur(e){"submit"!=e.target.type&&this.N.hide()}onInput(e){e=e.target;this.N.isActiveOn(e)&&(this.checkInputValidity(e)?(e.removeAttribute("aria-invalid"),this.N.hide()):(e.setAttribute("aria-invalid","true"),this.N.show(e,e.validationMessage)))}};var nt=class extends rt{constructor(e){super(e);this.Ga=this.form.id?this.form.id:String(Date.now()+Math.floor(100*Math.random()));this.va=0}reportInput(e){var t=ct(e);t&&this.showValidationFor(e,t)}hideAllValidations(){var e=this.inputs();for(var t=0;t<e.length;t++)this.hideValidationFor(e[t])}getValidationFor(e,t){if(!e.id)return null;var r=e.validationMessage;r="TEXTAREA"===e.tagName&&"customError"===t&&"Please match the requested format."===r?"patternMismatch":t;var i="__AMP_VALIDATION_"+r;i in e||(e[i]=this.root.querySelector(`[visible-when-invalid=${r}][validation-for=${e.id}]`));return e[i]}showValidationFor(e,t){var r=this.getValidationFor(e,t);if(r){r.textContent.trim()||(r.textContent=e.validationMessage);e.__AMP_VISIBLE_VALIDATION=r;var i=r.getAttribute("id");i||(i=`i-amphtml-aria-desc-${this.Ga}-${this.va++}`,r.setAttribute("id",i));e.setAttribute("aria-invalid","true");e.setAttribute("aria-describedby",i);this.mutator.mutateElement(r,(()=>r.classList.add("visible")))}}hideValidationFor(e){var t=this.getVisibleValidationFor(e);t&&(delete e.__AMP_VISIBLE_VALIDATION,e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),this.mutator.mutateElement(t,(()=>t.classList.remove("visible"))))}getVisibleValidationFor(e){return e.__AMP_VISIBLE_VALIDATION}shouldValidateOnInteraction(){throw Error("Not Implemented")}onInteraction(e){e=e.target;var t=!!e.checkValidity&&this.shouldValidateOnInteraction(e);this.hideValidationFor(e);t&&!this.checkInputValidity(e)&&this.reportInput(e)}onBlur(e){this.onInteraction(e)}onInput(e){this.onInteraction(e)}};var st=class extends nt{report(){this.hideAllValidations();var e=this.inputs();for(var t=0;t<e.length;t++)if(!this.checkInputValidity(e[t])){this.reportInput(e[t]);e[t].focus();break}this.fireValidityEventIfNecessary()}shouldValidateOnInteraction(e){return!!this.getVisibleValidationFor(e)}};var ot=class extends nt{report(){this.hideAllValidations();var e=null;var t=this.inputs();for(var r=0;r<t.length;r++)this.checkInputValidity(t[r])||(e=e||t[r],this.reportInput(t[r]));e&&e.focus();this.fireValidityEventIfNecessary()}shouldValidateOnInteraction(e){return!!this.getVisibleValidationFor(e)}};var lt=class extends nt{shouldValidateOnInteraction(){return!0}onInteraction(e){super.onInteraction(e);this.fireValidityEventIfNecessary()}};var ut=class extends ot{shouldValidateOnInteraction(){return!0}onInteraction(e){super.onInteraction(e);this.fireValidityEventIfNecessary()}};function ht(e){switch(e.getAttribute("custom-validation-reporting")){case"as-you-go":return new lt(e);case"show-all-on-submit":return new ot(e);case"interact-and-submit":return new ut(e);case"show-first-on-submit":return new st(e)}e.ownerDocument&&void 0===Ye&&(Ye=!!document.createElement("form").reportValidity);return Ye?new it(e):new at(e)}function ct(e){var t=["badInput"];for(var r in e.validity)t.includes(r)||t.push(r);r=t.filter((t=>!0===e.validity[t]));return r.length?r[0]:null}function dt(e){var t=e.ownerDocument.defaultView;t.FormProxy||(t.FormProxy=mt(t));var r=new t.FormProxy(e);"action"in r||pt(e,r);e.$p=r}function mt(e){function t(e){this.h=e}var r=t.prototype,i=e.Object,a=i.prototype;[e.HTMLFormElement,e.EventTarget].reduce(((e,t)=>{for(t=t&&t.prototype;t&&t!==a&&!(0<=e.indexOf(t));)e.push(t),t=i.getPrototypeOf(t);return e}),[]).forEach((t=>{for(var i in t){let s=e.Object.getOwnPropertyDescriptor(t,i);if(s&&i.toUpperCase()!=i&&!i.startsWith("on")&&!a.hasOwnProperty.call(r,i))if("function"==typeof s.value){let e=s.value;r[i]=function(){return e.apply(this.h,arguments)}}else{var n={};s.get&&(n.get=function(){return s.get.call(this.h)});s.set&&(n.set=function(e){return s.set.call(this.h,e)});e.Object.defineProperty(r,i,n)}}}));return t}function pt(e,t){var r=e.ownerDocument.defaultView.HTMLFormElement.prototype.cloneNode.call(e,!1);for(let n in r){if(n in t||n.toUpperCase()==n||n.startsWith("on"))continue;let s=Et[n],o=e[n];if(s){if(s.access==vt){let s;if(o&&o.nodeType){r=o;var i=r.nextSibling,a=r.parentNode;a.removeChild(r);try{s=e[n]}finally{a.insertBefore(r,i)}}else s=o;Object.defineProperty(t,n,{get(){return s}})}else if(s.access==ft){let r=s.attr||n;Object.defineProperty(t,n,{get(){var i=t.getAttribute(r);return null==i&&void 0!==s.def?s.def:s.type==gt?"true"===i:s.type==yt?null!=i:s.type==bt?(i=i||"",x(e,"url").parse(i).href):i},set(e){s.type==yt&&(e=e?"":null);null!=e?t.setAttribute(r,e):t.removeAttribute(r)}})}}else Object.defineProperty(t,n,{get(){return e[n]},set(t){e[n]=t}})}}var ft=1,vt=2,bt=1,gt=2,yt=3;var Et={acceptCharset:{access:ft,attr:"accept-charset"},accessKey:{access:ft,attr:"accesskey"},action:{access:ft,type:bt},attributes:{access:vt},autocomplete:{access:ft,def:"on"},children:{access:vt},dataset:{access:vt},dir:{access:ft},draggable:{access:ft,type:gt,def:!1},elements:{access:vt},encoding:{access:vt},enctype:{access:ft},hidden:{access:ft,type:yt,def:!1},id:{access:ft,def:""},lang:{access:ft},localName:{access:vt},method:{access:ft,def:"get"},name:{access:ft},noValidate:{access:ft,attr:"novalidate",type:yt,def:!1},prefix:{access:vt},spellcheck:{access:ft},style:{access:vt},target:{access:ft,def:""},title:{access:ft},translate:{access:ft}};function At(e,t){var r=e.getHeadNode(),i=xt(r,Pt(r));if(t){var a=e.getRootNode();if(_t(a,i))t(i);else var n=setInterval((()=>{_t(a,i)&&(clearInterval(n),t(i))}),4)}}function xt(e,t){var r=e.__AMP_CSS_SM;r||(r=e.__AMP_CSS_SM=j());var i=wt(e,r,"amp-extension=amp-form");if(i)return i.textContent!==t&&(i.textContent=t),i;var a=(e.ownerDocument||e).createElement("style");a.textContent=t;var n=null;a.setAttribute("amp-extension","amp-form");n=wt(e,r,"amp-runtime");M(e,a,n);return r["amp-extension=amp-form"]=a}function wt(e,t,r){return t[r]?t[r]:(e=e.querySelector(`style[${r}]`))?t[r]=e:null}function Pt(e){return(e=e.__AMP_CSS_TR)?e('form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}textarea[autoexpand]:not(.i-amphtml-textarea-max){overflow:hidden!important}.i-amphtml-textarea-clone{visibility:hidden;position:absolute;top:-9999px;left:-9999px;height:0!important}.i-amphtml-validation-bubble{transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,0.5);max-width:200px;position:absolute;display:block;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:" ";position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{color:red}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/'):'form.amp-form-submit-error [submit-error],form.amp-form-submit-success [submit-success],form.amp-form-submitting [submitting]{display:block}textarea[autoexpand]:not(.i-amphtml-textarea-max){overflow:hidden!important}.i-amphtml-textarea-clone{visibility:hidden;position:absolute;top:-9999px;left:-9999px;height:0!important}.i-amphtml-validation-bubble{transform:translate(-50%,-100%);background-color:#fff;box-shadow:0 5px 15px 0 rgba(0,0,0,0.5);max-width:200px;position:absolute;display:block;box-sizing:border-box;padding:10px;border-radius:5px}.i-amphtml-validation-bubble:after{content:" ";position:absolute;bottom:-8px;left:30px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #fff}[visible-when-invalid]{color:red}\n/*# sourceURL=/extensions/amp-form/0.1/amp-form.css*/'}function _t(e,t){var r=e.styleSheets;for(e=0;e<r.length;e++)if(r[e].ownerNode==t)return!0;return!1}function St(e){var t=e.documentElement;return["⚡4email","amp4email"].some((e=>t.hasAttribute(e)))}function Ot(e,t,r={}){$(e,"amp-analytics-instrumentation","amp-analytics").then((i=>{i&&i.triggerEventForTarget(e,t,r,!0)}))}function Tt(e,t){try{return JSON.parse(e)}catch(e){return t&&t(e),null}}var Vt=["amp-selector"];function It(e,t){var r=e.h.getAttribute(t);if(r){var i=x(e.h,"url");i.assertHttpsUrl(r,e.h,t);v(!i.isProxyOrigin(r),"form %s should not be on AMP CDN: %s",t,e.h)}return r}function Rt(e){var t=e.h.getAttribute("enctype");return"application/x-www-form-urlencoded"===t||"multipart/form-data"===t?t:"multipart/form-data"}function Ct(e){if("submitting"===e.C)return i();Dt(e,"verifying");Ut(e,"verify",null,3);return Jt(e,Gt(e)).then((()=>Qt(e)))}function jt(e){$(e.h,"inputmask","amp-inputmask").then((e=>{e&&e.install()}))}function Ft(e){if(!qe(e.j.location)&&e.h.hasAttribute("data-initialize-from-url")){var t=["SELECT","TEXTAREA"],r="color date datetime-local email hidden month number range search tel text time url week".split(" "),i=["checkbox","radio"],a=(e,a)=>{if(!e.hasAttribute("data-amp-replace")&&e.hasAttribute("data-allow-initialization")){a=n[a]||"";var s=e.getAttribute("type")||"text",o=e.tagName;"INPUT"===o?r.includes(s.toLocaleLowerCase())?e.value!==a&&(e.value=a):i.includes(s)&&(a=e.value===a,e.checked!==a&&(e.checked=a)):t.includes(o)&&e.value!==a&&(e.value=a)}},n=s(e.j.location.search);Object.keys(n).forEach((t=>{var r=e.h.elements[t];r&&(r.nodeType===Node.ELEMENT_NODE?a(r,t):r.length&&D(r,(e=>a(e,t))))}))}}function Lt(e){var t=e.h.querySelectorAll("input[type=password],input[type=file]");v(0==t.length,"input[type=password] or input[type=file] may only appear in form[method=post]")}function Mt(e){if(e.aa)return e.aa;var t=e.h.querySelectorAll(Vt.join(",")),r=l(t).map((e=>e.whenBuilt()));return e.aa=kt(e,r,2e3)}function Nt(e){e.h.reset();Dt(e,"initial");e.h.classList.remove("user-valid");e.h.classList.remove("user-invalid");var t=e.h.querySelectorAll(".user-valid, .user-invalid");D(t,(e=>{e.classList.remove("user-valid");e.classList.remove("user-invalid")}));var r=e.h.querySelectorAll(".visible[validation-for]");D(r,(e=>{e.classList.remove("visible")}));hr(e.h)}function kt(e,t,r){return Promise.race([Promise.all(t),e.Fa.promise(r)])}function Dt(e,t){var r=e.C;e.h.classList.remove(`amp-form-${r}`);e.h.classList.add(`amp-form-${t}`);var i=e.h.querySelector(`[${r}]`);i&&(/^[\w-]+$/.test("i-amphtml-rendered"),(i=i.querySelector("> [i-amphtml-rendered]".replace(/^|,/g,"$&:scope ")))&&i.parentElement&&i.parentElement.removeChild(i));e.C=t}function $t(e,t){Array.isArray(t)&&(t={});var r=e.h.querySelector(`[${e.C}]`);var a=i();if(r){var n=`rendered-message-${e.ba}`;r.setAttribute("role","alert");r.setAttribute("aria-labeledby",n);r.setAttribute("aria-live","assertive");e.m.hasTemplate(r)?a=e.L.applySsrOrCsrTemplate(r,t).then((t=>{var i;Array.isArray(t)?1===t.length?i=t[0]:(i=document.createElement("div"),t.forEach((e=>i.appendChild(e)))):i=t;i.id=n;i.setAttribute("i-amphtml-rendered","");return e.ja.mutateElement(r,(()=>{r.appendChild(i);var t=K(e.j,"amp:dom-update",null,{bubbles:!0});r.dispatchEvent(t)}))})):e.ja.mutateElement(r,(()=>{}))}return a}function Ut(e,t,r,i){r=K(e.j,`amp-form.${t}`,F({response:r}));e.I.trigger(e.h,t,r,i)}function qt(e,t){var r=e.L.isEnabled();v(!1===r,"[amp-form]: viewerRenderTemplate | %s",t)}function Ht(e,t){qt(e,"Form analytics not supported");var r=F({}),i=le(e.h);for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r["formFields["+a+"]"]=i[a].join(","));r.formId=e.h.id;Ot(e.h,t,r)}function Bt(e){void 0===Qe&&(Qe=!!e.j.document.createElement("input").checkValidity);if(Qe){var t=ur(e.h);if(e.oa)return e.O.report(),t}return!0}function Xt(e,t,r){try{var a={form:e.h,actionXhrMutator:e.setXhrAction.bind(e)};e.ha.fire(a)}catch(e){f().error("amp-form","Form submit service failed: %s",e)}var n=Gt(e),s=e.h.getElementsByClassName("i-amphtml-async-input");e.S.onSubmitting();if(!e.H&&"GET"==e.B){qt(e,"Non-XHR GETs not supported.");Lt(e);if(0===s.length){for(var o=0;o<n.length;o++)e.pa.expandInputValueSync(n[o]);zt(e,!r);e.S.onSubmitSuccess();return i()}r&&r.preventDefault()}Dt(e,"submitting");var l=[],u=[];u.push(Jt(e,n));D(s,(t=>{var r=Kt(e,t);t.classList.contains("i-async-require-action")?l.push(r):u.push(r)}));return Promise.all(l).then((()=>kt(e,u,1e4).then((()=>{if(e.H)var r=Yt(e,t);else"POST"==e.B?v(!1,"Only XHR based (via action-xhr attribute) submissions are supported for POST requests. %s",e.h):"GET"==e.B&&zt(e,!0),r=i();return r}),(r=>Wt(e,r,t)))),(r=>Wt(e,r,t)))}function Gt(e){return e.h.querySelectorAll('[type="hidden"][data-amp-replace]')}function zt(e,t){Ht(e,"amp-form-submit");t&&e.h.submit();Dt(e,"initial")}function Jt(e,t){var r=[];for(var i=0;i<t.length;i++)r.push(e.pa.expandInputValueAsync(t[i]));return kt(e,r,100)}function Kt(e,t){return t.getImpl().then((e=>e.getValue())).then((r=>{var i=t.getAttribute("name");i=e.h.querySelector(`input[name=${CSS.escape(i)}]`);if(!i){i=F({name:t.getAttribute("name"),hidden:"true"});var a=e.j.document.createElement("input");for(var n in i)a.setAttribute(n,i[n]);i=a}i.setAttribute("value",r);e.h.appendChild(i)}))}function Wt(e,t,r){var i={};t&&t.message&&(i.error=t.message);return Zt(e,t,i,r)}function Zt(e,t,r,i,a){Dt(e,"submit-error");p().error("amp-form","Form submission failed: %s",t);return g((()=>{$t(e,r).then((()=>{Ut(e,"submit-error",void 0===a?r:a,i-1);e.S.onSubmitError()}))}))}function Yt(e,t){var r;e.L.isEnabled()?r=er(e,t):(tr(e,t),r=e.T(e.H,e.B).then((r=>rr(e,r,t)),(r=>ir(e,r,t))));return r}function Qt(e){var t=l(e.h.querySelectorAll(`[${CSS.escape("no-verify")}]`)).map((e=>e.name||e.id));return e.T(e.Ka,e.B,{["__amp_form_verify"]:!0},t)}function er(e,t){var r=le(e.h);return $t(e,r).then((()=>e.I.trigger(e.h,"submit",null,t))).then((()=>{var t=e.requestForFormFetch(e.H,e.B);var r=t.fetchOpt||{};var i=r.method;void 0===i?i="GET":(i=i.toUpperCase(),Xe.includes(i));r.method=i;r.headers=r.headers||F({});t.fetchOpt=r;i=t.xhrUrl;r=(r=t.fetchOpt)||{};var a=e.j;a=a.origin||De(a.location.href).origin;i=De(i).origin;a==i&&(r.headers=r.headers||{},r.headers["AMP-Same-Origin"]="true");t.fetchOpt=r;i=e.j;r=t.xhrUrl;if(!1!==t.fetchOpt.ampCors){a=De(r);a=s(a.search);v(!("__amp_source_origin"in a),"Source origin is not allowed in %s",r);i=i.location.href;"string"==typeof i&&(i=De(i));if(qe(i)){a=i.pathname.split("/");v(Re[a[1]],"Unknown path prefix in url %s",i.href);var n=a[2],o="s"==n?"https://"+decodeURIComponent(a[3]):"http://"+decodeURIComponent(n);v(0<o.indexOf("."),"Expected a . in origin %s",o);a.splice(1,"s"==n?3:2);a=o+a.join("/");n=(n=i.search)&&"?"!=n?(n=n.replace(Fe,"").replace(Le,"").replace(Me,"").replace(Ne,"").replace(ke,"").replace(/^[?&]/,""))?"?"+n:"":"";i=a+n+(i.hash||"")}else i=i.href;i=De(i).origin;i=`${encodeURIComponent("__amp_source_origin")}=${encodeURIComponent(i)}`;r=$e(r,i,void 0)}t.xhrUrl=r;return e.L.ssr(e.h,t,ar(e))})).then((r=>nr(e,r,t)),(r=>{var i={};r&&r.message&&(i.error=r.message);return Zt(e,r,i,t)}))}function tr(e,t){Ht(e,"amp-form-submit");var r=le(e.h);$t(e,r).then((()=>{e.I.trigger(e.h,"submit",null,t)}))}function rr(e,t,r){return e.ga.xssiJson(t,e.getXssiPrefix()).then((t=>sr(e,t,r)),(e=>p().error("amp-form","Failed to parse response JSON: %s",e))).then((()=>{Ht(e,"amp-form-submit-success");or(e,t)}))}function ir(e,t,r){return(t&&t.response?e.ga.xssiJson(t.response,e.getXssiPrefix()).catch((()=>null)):Promise.resolve(null)).then((i=>{Ht(e,"amp-form-submit-error");Zt(e,t,i,r);or(e,t.response)}))}function ar(e){var t;var r=e.h.querySelector("[submit-success]");r&&(t=e.m.maybeFindTemplate(r));var i;var a=e.h.querySelector("[submit-error]");a&&(i=e.m.maybeFindTemplate(a));return{successTemplate:t,errorTemplate:i}}function nr(e,t,r){var i=t.init;var a=Tt(t.body,(e=>p().error("amp-form","Failed to parse response JSON: %s",e)));return i&&(i=i.status,300<=i)?Zt(e,i,t,r,a):sr(e,t,r,a)}function sr(e,t,r,i){Dt(e,"submit-success");return g((()=>{$t(e,t||{}).then((()=>{Ut(e,"submit-success",void 0===i?t:i,r-1);e.S.onSubmitSuccess()}))}))}function or(e,t){qt(e,"Redirects not supported.");if(t&&t.headers){var r=t.headers.get("AMP-Redirect-To");if(r){v(!e.ya,"Redirects not supported in AMP4Email.",e.h);v("_blank"!=e.Ea,"Redirecting to target=_blank using AMP-Redirect-To is currently not supported, use target=_top instead. %s",e.h);try{var i=x(e.h,"url");i.assertAbsoluteHttpOrHttpsUrl(r);i.assertHttpsUrl(r,"AMP-Redirect-To","Url")}catch(e){v(!1,"The `AMP-Redirect-To` header value must be an absolute URL starting with https://. Found %s",r)}A(e.h,"navigation").navigateTo(e.j,r,"AMP-Redirect-To")}}}var lr=class{constructor(e,t){try{dt(e)}catch(e){f().error("amp-form","form proxy failed to install",e)}e.__AMP_FORM=this;this.ba=t;this.K=e.ownerDocument;this.j=this.K.defaultView;this.Fa=E(this.j,"timer");this.pa=x(e,"url-replace");this.aa=null;this.h=e;this.ua=P(this.h);this.m=E(this.j,"templates");this.ga=E(this.j,"xhr");this.I=x(this.h,"action");this.ja=U(this.h);this.G=A(this.h,"viewer");this.L=new ze(this.G,this.m);this.B=(this.h.getAttribute("method")||"GET").toUpperCase();this.Ea=this.h.getAttribute("target");this.H=It(this,"action-xhr");this.Ka=It(this,"verify-xhr");this.xa=Rt(this);this.oa=!this.h.hasAttribute("novalidate");this.h.setAttribute("novalidate","");this.oa||this.h.setAttribute("amp-novalidate","");this.h.classList.add("i-amphtml-form");this.C="initial";t=this.h.elements;for(var r=0;r<t.length;r++){var{name:i}=t[r];v("__amp_source_origin"!=i&&"__amp_form_verify"!=i,"Illegal input name, %s found: %s",i,t[r])}this.S=new Oe(this.h,this.j);this.O=ht(this.h);this.Ha=de(this.h,(()=>Ct(this)));this.I.addToAllowlist("FORM",["clear","submit"],["email"]);this.I.installActionHandler(this.h,this.ta.bind(this));this.ca();jt(this);Ft(this);this.ha=this.Ba=this.Ja=null;O(_(e),"form-submit-service").then((e=>{this.ha=e}));this.ya=this.K&&St(this.K)}getXssiPrefix(){return this.h.getAttribute("xssi-prefix")}requestForFormFetch(e,t,r,i){var a,n,s=F({Accept:"application/json"});if("GET"==t||"HEAD"==t){Lt(this);var o=le(this.h);i&&i.forEach((e=>delete o[e]));r&&L(o,r);a=$e(e,Ue(o))}else{a=e;"application/x-www-form-urlencoded"===this.xa?(n=Ue(le(this.h)),s=F({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"})):n=Ee(this.j,this.h);i&&i.forEach((e=>n.delete(e)));for(var l in r)n.append(l,r[l])}return{xhrUrl:a,fetchOpt:F({body:n,method:t,credentials:"include",headers:s})}}setXhrAction(e){this.H=e}ta(e){if(!e.satisfiesTrust(2))return null;if("submit"==e.method)return Mt(this).then((()=>"submitting"!=this.C&&Bt(this)?Xt(this,e.trust,null):Promise.resolve(null)));"clear"===e.method&&Nt(this);return null}ca(){this.ua.whenNextVisible().then((()=>{var e=this.h.querySelector("[autofocus]");if(e)try{e.focus()}catch(e){}}));this.h.addEventListener("submit",this.ia.bind(this),!0);this.h.addEventListener("blur",(e=>{dr(e.target);this.O.onBlur(e)}),!0);this.h.addEventListener("amp:form-value-change",(e=>{dr(e.target);this.O.onInput(e)}),!0);this.L.isEnabled()||this.h.addEventListener("change",(e=>{this.Ha.onCommit().then((t=>{var r=t.errors;t.updatedElements.forEach(dr);this.O.onBlur(e);"verifying"===this.C&&(r.length?(Dt(this,"verify-error"),$t(this,F({verifyErrors:r})).then((()=>{Ut(this,"verify-error",r,2)}))):Dt(this,"initial"))}))}));this.h.addEventListener("input",(e=>{dr(e.target);this.O.onInput(e)}))}ia(e){if("submitting"==this.C||!Bt(this))return e.stopImmediatePropagation(),e.preventDefault(),Promise.resolve(null);(this.H||"POST"==this.B)&&e.preventDefault();return Xt(this,3,e)}T(e,t,r,i){qt(this,"XHRs should be proxied.");e=this.requestForFormFetch(e,t,r,i);return this.ga.fetch(e.xhrUrl,e.fetchOpt)}La(){return this.Ba}Ma(){return this.Ja}};function ur(e){var t=e.querySelectorAll("input,select,textarea,fieldset");D(t,(e=>cr(e)));return cr(e)}function hr(e){var t=document.createElement("input");for(let i in t.validity){var r=e.querySelectorAll(`.${CSS.escape(i)}`);D(r,(e=>{e.classList.remove(i)}))}}function cr(e,t=!1){if(!e.checkValidity)return!0;var r=!1;var i=e.classList.contains("user-valid")?"valid":e.classList.contains("user-invalid")?"invalid":"none";var a=e.checkValidity();"valid"!=i&&a?(e.classList.add("user-valid"),e.classList.remove("user-invalid"),r="invalid"==i):"invalid"==i||a||(e.classList.add("user-invalid"),e.classList.remove("user-valid"),r=!0);if(e.validity)for(var n in e.validity)e.classList.toggle(n,e.validity[n]);if(t&&r){i=k(e);for(n=0;n<i.length;n++)cr(i[n]);e.form&&cr(e.form)}return a}function dr(e){cr(e,!0)}function mr(e){var t=new b;At(e,t.resolve);return t.promise}function pr(e){return e.whenReady().then((()=>{var t=e.getRootNode();fr(t.querySelectorAll("form"));ee(e);vr(t);br(t)}))}function fr(e){e&&D(e,((e,t)=>{e.__AMP_FORM||new lr(e,`amp-form-${t}`)}))}function vr(e){e.addEventListener("amp:dom-update",(()=>{fr(e.querySelectorAll("form"))}))}function br(e){e.addEventListener("keydown",(e=>{if(!e.defaultPrevented&&"Enter"==e.key&&(e.ctrlKey||e.metaKey)&&"TEXTAREA"===e.target.tagName){var t=e.target.form,r=t?t.__AMP_FORM||null:null;r&&(r.ia(e),e.preventDefault())}}))}var gr=class{constructor(e){this.Ia=mr(e).then((()=>pr(e)))}whenInitialized(){return this.Ia}};(e=>{e.registerServiceForDoc("form-submit-service",Ve);e.registerServiceForDoc("amp-form",gr)})(self.AMP)}});